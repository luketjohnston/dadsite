<?xml version="1.0" encoding="utf-8"?>
<!doctype html>
{% load static %}
{% load mathfilters %}
<html lang="en">
  <head>
    <!-- required for bootstrap -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

    <link rel="stylesheet" type="text/css" href="{% static 'myapp/css/gallery.css'%}"/>
    <link rel="stylesheet" type="text/css" href="{% static 'myapp/css/all.css'%}">
    <title>Scott Johnston Portrait Gallery</title>
  </head>
  <body>
    <h1> Gallery </h1>
    <div id="gallery">
      <div id='galPage0' class='galPage'> 
        {% for portrait in portrait_list %}
          <div class='container'>
            <a href={% url 'portrait' portrait.identifier %}> <img src="{{portrait.image.url}}">  </img> </a>
            <!-- <div class='overlay'> <div class='overlay_text'> {{portrait.overlay_text}} </div> </div> -->
          </div>
          {% if forloop.counter|divisibleby:portraits_per_page %}
            </div> {# end previous galPage #}
            <div id='galPage{{forloop.counter|intdiv:portraits_per_page}}' class='galPage' style='display:none'>
          {% endif %}
        {% endfor %}
      </div> {# end last galPage #}
      {# note that all galPages have display=none here. We set the visible one in the javascript file. #}
    </div>

    <div id="gallery_index">
      <div id="previous" class="clickable"> Previous Page </div> 
      <div id="next" class="clickable"> Next Page </div> 
    </div>

    <hr>

    <div id="links">
      <a class="nav_style" href="{%url 'home'%}"> Home </a>
      <a class="nav_style" href="{%url 'gallery'%}"> Gallery </a>
      <a class="nav_style" href="{%url 'about'%}"> About </a>
    </div>
  </body>
  <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
  <script src="{% static 'myapp/javascript/gallery.js'%}"></script>
</html>
